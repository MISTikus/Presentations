<div style="width:60%; margin-left:20%;">

# <img src="./images/blazor_logo_transparent.png " width="50" /> Practice

<div style="text-align:right;">

###### [[<= BACK]](08.03.02.md) | [[< LIST >]](08.md) | [[NEXT =>]](08.03.04.md)

</div>

---

## Реализация ч.3. Компонент

### 4. `Components\ItemCard.razor`

```html
@inherits ItemCardBase

@if (this.isEditEnabled)
{
    <div class="todolist__item todoitem--add-new">
        <div class="todoitem__header">
            <p class="todoitem__index">@RowNumber</p>
            <p class="todoitem__title @(!this.collapsed ? "hidden": "")" @onclick="ToggleCollapse">@Value.Name</p>
            <input placeholder="Заголовок" type="text" @bind-value="this.name"
                class="todoitem__title todoitem__input input @(this.collapsed ? "hidden": "")" />
            <div class="todoitem__toggler toggler @(this.collapsed ? "" : "toggler--opened")" @onclick="ToggleCollapse">
            </div>
        </div>
        <form class="todolist__form @(this.collapsed ? "hidden": "")">
            <textarea placeholder="Описание" type="text" class="todoitem__textarea textarea"
                @oninput="HandleContent">@this.content</textarea>
            <button class="btn btn--primary" type="submit"
                @onclick="async () => await StateChanged(Value.State)">Сохранить</button>
        </form>
    </div>
}
else
{
    <div class="todolist__item todoitem">
        <div class="todoitem__header todoitem__header--@(isEven ? "even" : "odd")">
            <div class="todoitem__label" @onclick="ToggleCollapse">
                <p class="todoitem__index">@(RowNumber).</p>
                <p class="todoitem__title">@Value.Name</p>
                @{
                    var dateString = (Value.Archived ?? Value.Created).ToString("dd MMM yy HH:mm");
                    var caption = Value.Archived is null ? "Создано" : "Завершено";
                    var chipType = Value.Archived is null ? "created" : "archived";
                    <p class="todoitem__chip chip chip--@chipType" title="@caption: @dateString">@dateString</p>
                }
            </div>
            <div class="todoitem__toggler toggler @(this.collapsed ? "" : "toggler--opened")" @onclick="ToggleCollapse">
            </div>
        </div>
        <pre class="todoitem__content @(this.collapsed ? "hidden" : "")">
            @Value.Content
            <span class="todoitem__buttons">
                <button class="btn btn--text" type="submit" @onclick="EnableEdit">Изменить</button>
                <button class="btn btn--text" type="submit"
                    @onclick="async () => await StateChanged(Value.State == ToDoState.Created ? ToDoState.Finished : ToDoState.Created)">
                    @(Value.State == ToDoState.Created ? "Завершить" : "Восстановить")
                </button>
            </span>
        </pre>
    </div>
}
```

---

<div style="text-align:right;">

###### [[<= BACK]](08.03.02.md) | [[< LIST >]](08.md) | [[NEXT =>]](08.03.04.md)

</div>
